# 仕様書（v1）: 現在地ベースの時刻表 Widget Androidアプリ
作成日: 2026-02-14 (Asia/Tokyo)

本仕様書は、INCOSEの要求記述の推奨（明確・一義・検証可能・“shall”）に沿って、EARS（Easy Approach to Requirements Syntax）の文型を用いて要求を記述する。

---

## 1. 適用範囲と目的
### 1.1 目的（Stakeholder Need）
通勤・移動中に、ユーザーがホーム画面Widgetから「直近の発車時刻」を即座に確認できること。

### 1.2 v1スコープ
- 地域: 京都・滋賀
- 鉄道: JR西日本 東海道線（長岡京〜野洲）  
  - **オンライン取得は行わない**（ユーザー投入の静的時刻表JSONを利用）
- バス: 近江鉄道バス（野洲駅 ⇄ 村田製作所（野洲事業所））  
  - **オンライン取得は行わない**（アプリ同梱の静的時刻表JSONを利用）
- 表示先: Androidホーム画面Widget

### 1.3 v1非対象（Non-goals）
- リアルタイム遅延の取得・反映
- 祝日判定（祝日は平日扱い）
- ダイヤ改正の自動追従
- 全国対応

---

## 2. 用語・略語
- **本システム**: 本アプリ＋Widget（以下「システム」）
- **Widget**: Androidホーム画面上のウィジェット
- **上り/下り**: 対象路線における方向（データ定義に従う）
- **EARS**: 要求を定型構文で表現する手法
- **検証方法**: INCOSE推奨に従い、Inspection / Analysis / Demonstration / Test を付記する

---

## 3. システムコンテキスト（概要）
- 入力:
  - 端末位置情報（現在地）
  - 静的時刻表データ（電車: ユーザー投入、バス: 同梱）
  - ユーザー設定（固定駅、駅切替の一時選択状態）
- 出力:
  - Widget表示（電車/バスの次発情報、最終更新時刻、状態メッセージ）

---

## 4. 制約・前提
- 更新は「可能な限り1分おき」を目標とするが、Androidの省電力制約により**毎分更新を保証しない**。
- そのためWidgetには常に最終更新時刻を表示する。
